/*
jQWidgets v11.0.1 (2020-Dec)
Copyright (c) 2011-2020 jQWidgets.
License: https://jqwidgets.com/license/
*/
/* eslint-disable */

(function(a){a.jqx.jqxWidget("jqxKnob","",{});a.extend(a.jqx._jqxKnob.prototype,{defineInstance:function(){var b={type:"circle",allowValueChangeOnClick:true,allowValueChangeOnDrag:true,allowValueChangeOnMouseWheel:true,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:false,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:false,offset:null,style:"",visible:false},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:false},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:false,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:true,value:0,width:400};if(this===a.jqx._jqxKnob.prototype){return b}a.extend(true,this,b);return b},createInstance:function(){var b=this;b._hostInit();b._ie8Plugin();b._validateProperties();b._initValues();b._refresh();a.jqx.utilities.resize(b.host,function(){b.widgetSize=Math.min(b.host.width(),b.host.height());b._refresh()})},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]+".jqxKnob"+this.element.id}else{return b+".jqxKnob"+this.element.id}},_ie8Plugin:function(){if(typeof Array.prototype.forEach!="function"){Array.prototype.forEach=function(c){for(var b=0;b<this.length;b++){c.apply(this,[this[b],b,this])}}}if(!window.getComputedStyle){window.getComputedStyle=function(b,c){this.el=b;this.getPropertyValue=function(e){var d=/(\-([a-z]){1})/g;if(e=="float"){e="styleFloat"}if(d.test(e)){e=e.replace(d,function(){return arguments[2].toUpperCase()})}return b.currentStyle[e]?b.currentStyle[e]:null};return this}}},createColorGradient:function(c,b,d){return this._getGradient(c,b,d)},destroy:function(){var b=this;b.removeHandler(a(document),"mousemove.jqxKnob"+b.host[0].id);b.removeHandler(a(document),"blur.jqxKnob"+b.host[0].id);b.removeHandler(a(document),"mouseup.jqxKnob"+b.host[0].id);b.host.empty();b.host.remove()},propertiesChangedHandler:function(b,c,d){if(d.width&&d.height&&Object.keys(d).length==2){b._refresh()}},propertyChangedHandler:function(b,c,f,e){var d=this;if(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&Object.keys(b.batchUpdate).length==2){return}if(c==="disabled"){b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled"))}if(c==="value"){b._setValue(e,"propertyChange");return}b._validateProperties();b._refresh()},val:function(c){var b=this;if(arguments.length==0){return b.value}b._setValue(c,null)},_isPointerGrabbed:false,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var c=this;c.addHandler(c.host,this._getEvent("mousedown"),function(f){if(c.pointerGrabAction==="pointer"){if(f.target.id!==c._pointerID){return}}if(c._isTouchDevice){var i=a.jqx.position(f);f.clientX=i.left;f.clientY=i.top}if(c.pointerGrabAction==="progressBar"){var l={x:f.clientX,y:f.clientY};var h=c.host[0].getBoundingClientRect();var k=c.widgetSize;var d={x:h.left+k/2,y:h.top+k/2};var g=c._calculateAngleFromCoordinates(l,d,c.rotation);var e=c._calculateDistance(l,d);if(g<c.startAngle){g+=360}if(g>c.endAngle){if(g-c.endAngle!==(360+c.startAngle-g)){return}}var j=c._getScale(c.progressBar.offset,"w",k/2);var m=c._getScale(c.progressBar.size,"w",k/2);if(e<j||e>j+m){return}}c._isPointerGrabbed=true;if(c.allowValueChangeOnClick===true){c._mouseMovePointer(f)}f.preventDefault();f.stopPropagation();return false});var b=null;c.addHandler(a(document),this._getEvent("mousemove"),function(d){if(c.allowValueChangeOnDrag){if(b){clearTimeout(b)}b=setTimeout(function(){c._mouseMovePointer(d)});if(c._isPointerGrabbed){return false}}});c.addHandler(a(document),"blur.jqxKnob"+c.host[0].id,function(){c._isPointerGrabbed=false;c._pointerGrabbedIndex=-1});c.addHandler(a(document),this._getEvent("mouseup"),function(d){if(c._isPointerGrabbed){c._isPointerGrabbed=false;c._pointerGrabbedIndex=-1;c._raiseEvent(0,{originalEvent:d,value:c.value})}});c.addHandler(c.host,"wheel",function(d){if(c.allowValueChangeOnMouseWheel){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}else{if(d.originalEvent&&d.originalEvent.deltaY){e=d.originalEvent.deltaY}}}if(e>0){c._increment()}else{c._decrement()}return false}})},_mouseMovePointer:function(c){var h=this;if(h.disabled){return}if(h._isPointerGrabbed){if(h._isTouchDevice){var l=a.jqx.position(c);c.clientX=l.left;c.clientY=l.top}var p={x:c.clientX,y:c.clientY};var k=h.host[0].getBoundingClientRect();var o=h.widgetSize;var b={x:k.left+o/2,y:k.top+o/2};var f=h._calculateAngleFromCoordinates(p,b,h.rotation);var n=h._calculateValueFromAngle(f,h.dragStartAngle,h.dragEndAngle,h.min,h.max);if(h.value.length){if(h._pointerGrabbedIndex===-1){for(var g=0;g<h.value.length;g++){if(n<=h.value[g]){h._pointerGrabbedIndex=g;break}else{if(g===h.value.length-1){h._pointerGrabbedIndex=g}else{if(n<=h.value[g+1]){var m=h.value[g]+(h.value[g+1]-h.value[g])/2;h._pointerGrabbedIndex=n<=m?g:g+1;break}}}}}}if(h.pointer&&h.pointer.length>1){if(h._pointerGrabbedIndex==1){var j=h._calculateAngleFromValue(h.value[0],h.dragStartAngle,h.dragEndAngle,h.min,h.max);var e=h._calculateAngleFromValue(h.max,h.dragStartAngle,h.dragEndAngle,h.min,h.max);var f=h._calculateAngleFromValue(n,h.dragStartAngle,h.dragEndAngle,h.min,h.max);if(f<=j){return}if(f>=e){return}}if(h._pointerGrabbedIndex==0){var e=h._calculateAngleFromValue(h.value[1],h.dragStartAngle,h.dragEndAngle,h.min,h.max);var j=h._calculateAngleFromValue(h.min,h.dragStartAngle,h.dragEndAngle,h.min,h.max);var f=h._calculateAngleFromValue(n,h.dragStartAngle,h.dragEndAngle,h.min,h.max);if(f<=j){return}if(f>=e){return}}}if(h.changing){if(Array.isArray(h.value)){var d=h.value.slice(0);d[h._pointerGrabbedIndex]=n;var q=h.changing(h.value,d);if(q===false){return}}else{var q=h.changing(h.value,n);if(q===false){return}}}h._setValue(n,"mouse")}},_getScale:function(b,d,c){if(b&&b.toString().indexOf("%")>=0){b=parseInt(b,10)/100;if(typeof(c)=="object"){return c[d]()*b}else{return c*b}}return parseInt(b,10)},_hostInit:function(){var c=this;this._isTouchDevice=a.jqx.mobile.isTouchDevice();var b=c.host;b.width(c.width);b.height(c.height);b.css("position","relative");c.host.addClass(c.toThemeProperty("jqx-widget jqx-knob"));if(c.dragStartAngle==-1){c.dragStartAngle=c.startAngle}if(c.dragEndAngle==-1){c.dragEndAngle=c.endAngle}if(c.dragStartAngle<c.startAngle){c.dragStartAngle=c.startAngle}if(c.dragEndAngle>c.endAngle){c.dragEndAngle=c.endAngle}c.widgetSize=Math.min(c.host.width(),c.host.height())},_initRenderer:function(b){if(!a.jqx.createRenderer){throw"jqxKnob: Please include a reference to jqxdraw.js"}return a.jqx.createRenderer(this,b)},_initValues:function(){var b=this;if(b.marks){if(b.marks.style&&b.marks.style!==""){if(b.marks.style==="line"&&!b.marks.thickness){b.marks.thickness=1}if(!b.marks.size){b.marks.size="5%"}if(!b.marks.offset){b.marks.offset="85%"}}if(b.marks.majorInterval){if(b.marks.majorSize===undefined){b.marks.majorSize="10%"}}}b._marksList=b._getMarksArray(b.marks);if(b.spinner){b._spinnerMarksList=b._getMarksArray(b.spinner.marks)}},_calculateAngleFromValue:function(e,c,b,d,f){if(a.jqx.browser.msie&&a.jqx.browser.version<9){if(this.type!="circle"){return d!=f?parseInt((e-d)/(f-d)):0}return d!=f?parseInt((e-d)/(f-d)*(b-c)):0}if(this.type!="circle"){return d!=f?(e-d)/(f-d):0}return d!=f?(e-d)/(f-d)*(b-c):0},_calculateAngleFromCoordinates:function(d,c,e){var b=d.x-c.x;var f=d.y-c.y;if(f>0){return e==="clockwise"?90-Math.atan(b/f)*180/Math.PI:270+Math.atan(b/f)*180/Math.PI}else{if(f<0){return e==="clockwise"?270-Math.atan(b/f)*180/Math.PI:90+Math.atan(b/f)*180/Math.PI}else{if(b>=0){return 0}else{return 180}}}},_calculateValueFromAngle:function(g,e,c,d,b){if(g<e){g+=360}var f=d;if(g>c){if(g-c<(360+e-g)){f=b}}else{f=d+(g-e)*(b-d)/(c-e)}return f},_calculateDistance:function(c,b){return Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2))},_drawBackground:function(){var f=this;var g=f.renderer;var e,b,c;e=f.widgetSize;b=e/2;var h=f.style.strokeWidth?f.style.strokeWidth:0;b-=h/2;if(f.style){var c=f._getColor(f.style.fill);var d=f._getColor(f.style.stroke);var h=f.style.strokeWidth?f.style.strokeWidth:1;if(f.type!="circle"){g.rect(0,0,this.host.width(),this.host.height(),{fill:c,stroke:d,"stroke-width":h})}else{g.circle(e/2,e/2,b,{fill:c,stroke:d,"stroke-width":h})}}},_drawDial:function(){var j=this;if(j.dial){var l=j.renderer;var c=j.widgetSize;var h,e,m,i,k,d,n=0,g;h=e=c/2;i=j._getScale(j.dial.outerRadius,"w",c/2);m=j._getScale(j.dial.innerRadius,"w",c/2);if(j.dial.startAngle!=null&&j.dial.endAngle!=null){k=j.rotation==="clockwise"?360-j.dial.endAngle:j.dial.startAngle;d=j.rotation==="clockwise"?360-j.dial.startAngle:j.dial.endAngle}else{k=j.rotation==="clockwise"?360-j.endAngle:j.startAngle;d=j.rotation==="clockwise"?360-j.startAngle:j.endAngle}g=j._getColor(j.dial.style.fill);var f=j._getColor(j.dial.style.stroke)||"";var b=j.dial.style.strokeWidth||0;l.pieslice(h,e,m,i,k,d,n,{fill:g,stroke:f,"stroke-width":b})}},_getMarksArray:function(f){if(f==undefined){return[]}var k=this,h,n,m={},l=k.max,g=k.min,j=l-g,c=f.minorInterval,b=f.majorInterval;var e=function(i){return(parseFloat(i.toPrecision(12)))};if(c){for(h=0;h<j;h+=c){n=e(g+h);m[n]={type:"minor"}}m[l]={type:"minor"}}if(b){for(h=0;h<j;h+=b){n=e(g+h);m[n]={type:"major"}}m[l]={type:"major"}}if(!c&&!b){var d=k.step;if(d){for(h=0;h<j;h+=d){n=e(g+h);m[n]={type:"minor"}}m[l]={type:"minor"}}}return m},_drawMarks:function(){var g=this;if(g.marks){var h=g.renderer;var b=g.widgetSize;var e=g.marks&&g.marks.colorRemaining!=null?g.marks.colorRemaining:"transparent";e=g._getColor(e);g._dialMarks=[];var j,c;var i=g.marks.type;if(!i){i="line"}var f=g._getScale(g.marks.offset,"w",b/2);var d=g._marksList;a.each(d,function(o,q){if(g.dragEndAngle-g.dragStartAngle===360){if(o==g.max){return}}c=g.dragStartAngle+g._calculateAngleFromValue(o,g.dragStartAngle,g.dragEndAngle,g.min,g.max);if(i==="circle"){var l=g._getScale(g.marks.size,"w",b/2);var k=g._getPointerPosition({x